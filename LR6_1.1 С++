#include <iostream>
#include <vector>
#include <random>
#include <ctime>
#include <iomanip>

using namespace std;

const int MAX_SIZE = 100;

// генерация случайного числа в диапазоне [min, max]
int randomInRange(int min, int max) {
    static mt19937 gen(time(nullptr));
    uniform_int_distribution<> dis(min, max);
    return dis(gen);
}

// находится ли число в диапазоне [-10, 10]
bool isInForbiddenRange(int num) {
    return (num >= -10 && num <= 10);
}

int generateOutsideForbiddenRange() {
    int num;
    do {
        num = randomInRange(-50, 50);
    } while (isInForbiddenRange(num));
    return num;
}

// Функция для вывода матрицы
void printMatrix(const vector<vector<int>>& matrix, int n, const string& title) {
    cout << title << ":" << endl;
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            cout << setw(4) << matrix[i][j] << " ";
        }
        cout << endl;
    }
    cout << endl;
}

int main() {
    int n;
    
    // Ввод размера матрицы
    cout << "Введите размер матрицы N (чётное число): ";
    if (!(cin >> n)) return 1;
    
    // Проверка на чётность и допустимый размер
    if (n <= 0 || n > MAX_SIZE) {
        cout << "Ошибка: N должно быть положительным числом не больше " << MAX_SIZE << endl;
        return 1;
    }
    if (n % 2 != 0) {
        cout << "Ошибка: N должно быть чётным числом" << endl;
        return 1;
    }
    
    vector<vector<int>> matrix(n, vector<int>(n));
    
    // Выбор способа заполнения матрицы
    int choice;
    cout << "Выберите способ заполнения матрицы:" << endl;
    cout << "1 - Случайные числа" << endl;
    cout << "2 - Ввод вручную" << endl;
    cout << "Ваш выбор: ";
    cin >> choice;
    
    if (choice == 2) {
        // Ручной ввод матрицы
        cout << "Введите элементы матрицы (" << n << " x " << n << "):" << endl;
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                cout << "matrix[" << i << "][" << j << "] = ";
                cin >> matrix[i][j];
            }
        }
    } else {
        // Заполнение матрицы случайными числами в диапазоне [-50, 50]
        for (int i = 0; i < n; i++) {
            for (int j = 0; j < n; j++) {
                matrix[i][j] = randomInRange(-50, 50);
            }
        }
    }
    
    // Вывод исходной матрицы
    printMatrix(matrix, n, "Исходная матрица");
    
    // Модификация матрицы: в чётных столбцах (0, 2, 4, ...) 
    // заменяем числа из диапазона [-10, 10]
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            // Проверяем, является ли столбец чётным (индексы 0, 2, 4, ...)
            if (j % 2 == 0) {
                // Если число в запрещённом диапазоне, заменяем его
                if (isInForbiddenRange(matrix[i][j])) {
                    matrix[i][j] = generateOutsideForbiddenRange();
                }
            }
        }
    }
    
    printMatrix(matrix, n, "Модифицированная матрица (в чётных столбцах нет чисел из [-10, 10])");
    
    return 0;
}
